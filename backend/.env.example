# =============================================================================
# RAGent Configuration
# =============================================================================

# Application
APP_NAME=RAGent
APP_VERSION=0.1.0
DEBUG=false

# =============================================================================
# Database Configuration
# =============================================================================

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=ragent
POSTGRES_PASSWORD=ragent_secret
POSTGRES_DB=ragent

# Connection pool settings
POSTGRES_POOL_SIZE=5
POSTGRES_MAX_OVERFLOW=10

# =============================================================================
# Redis Configuration
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# TTL settings (seconds)
SESSION_TTL_SECONDS=1800
CHAT_HISTORY_TTL_SECONDS=86400
PROCESSING_STATUS_TTL_SECONDS=3600

# =============================================================================
# Ollama Configuration
# =============================================================================

OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_TEXT_MODEL=qwen2.5:7b-instruct-q4_K_M
OLLAMA_VISION_MODEL=qwen2-vl:7b-instruct-q4_K_M
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
OLLAMA_KEEP_ALIVE=60m
OLLAMA_TIMEOUT_SECONDS=120

# =============================================================================
# Performance Settings
# =============================================================================

# Embedding batch size (affects memory usage)
EMBEDDING_BATCH_SIZE=16

# Vision gating (skip vision analysis for low-image pages)
VISION_GATING_ENABLED=true
VISION_GATING_MIN_IMAGE_RATIO=0.05

# Response caching
RESPONSE_CACHE_ENABLED=true
RESPONSE_CACHE_TTL_SECONDS=3600

# Context management
MAX_HISTORY_TOKENS=2048
SUMMARIZE_AFTER_MESSAGES=10

# =============================================================================
# Document Processing
# =============================================================================

# Chunking settings
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
CHUNKING_STRATEGY=fixed_size

# File limits
MAX_UPLOAD_SIZE_MB=50

# =============================================================================
# Search Settings
# =============================================================================

DEFAULT_TOP_K=5
MAX_TOP_K=20
MIN_SIMILARITY_SCORE=0.3
HYBRID_SEARCH_VECTOR_WEIGHT=0.7
HYBRID_SEARCH_KEYWORD_WEIGHT=0.3

# =============================================================================
# API Settings
# =============================================================================

API_HOST=0.0.0.0
API_PORT=8000
API_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
